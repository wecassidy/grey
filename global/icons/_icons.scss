/* CSS Icons (heavily based on work by Nicholas Gallagher [read: essentially copied]) */
.modactions li::before, .modactions li::after,
.modactions li a::before, .modactions li a::after,
#{$widgetLink} a::before,
#{$widgetLink} a::after,
#{$widgetLink} a span::before,
#{$widgetLink} a span::after,
.panel.bg2::before, .panel.bg2::after,
#main .submit-buttons::before, #main .submit-buttons::after,
#shouts-widget fieldset:nth-child(3)::before, #shouts-widget fieldset:nth-child(3)::after,
#blog_searchform div::before, #blog_searchform div::after,
.post-tags a:first-child::before, .post-tags a:first-child::after,
#tabs a::before, #tabs a::after,
#tabs a span::before, #tabs a span::after,
#{$codeIcon}::before, #{$codeIcon}::after {
	margin: -8px 0 0;
	background: none repeat scroll 0 0 #000;
}

.modactions li::before, .modactions li::after,
.modactions a::before, .modactions a::after,
#{$widgetLink} a::before,
#{$widgetLink} a::after,
#{$widgetLink} a span::before,
#{$widgetLink} a span::after,
.panel.bg2::before, .panel.bg2::after,
#main .submit-buttons::before, #main .submit-buttons::after,
#shouts-widget fieldset:nth-child(3)::before, #shouts-widget fieldset:nth-child(3)::after,
#blog_searchform div::before, #blog_searchform div::after,
.post-tags a:first-child::before, .post-tags a:first-child::after,
#tabs a::before, #tabs a::after,
#tabs a span::before, #tabs a span::after,
#tabs a span::before, #tabs a span::after,
#{$codeIcon}::before, #{$codeIcon}::after {
	content: "";
	position: absolute;
	top: 50%;
	left: 0;
	
	transition: 0.5s ease;
}

// Modactions
@import "./modactions";

// Widget links
@import "./widgets";

/* Delete Shouts */
#shouts-widget fieldset:nth-child(3) {
	position: relative;

	&:before {
		border: solid #000;
		border-width: 7px 3px;
		border-radius: 16px;
		left: calc(50% - 43px);
		top: -16px;
		width: 10px;
		height: 2px;
		margin-top: -2px;
		background: #fff;
	}

	&:after {
		left: calc(50% - 40px);
		top: -9px;
		width: 10px;
		height: 2px;
		margin-top: -2px;
		background: #fff;
	}

	&:hover {
		&:before {
			transform: rotate(-45deg);
		}

		&:after {
			transform: rotate(45deg);
		}
	}
}

/* Search Button */
#blog_searchform fieldset {
	position: relative;

	div {
		&::before { /* Circle of the glass */
			left: calc(50% - 50px);
			top: 33px;
			width: 6px;
			height: 6px;
			border: 3px solid #000;
			background:transparent;
			/* css3 */
			-webkit-border-radius: 12px;
			-moz-border-radius: 12px;
			border-radius: 12px;
		}

		&::after { /* Handle of the glass */
			left: calc(50% - 39px);
			top: 34px;
			width: 3px;
			height: 7px;
			margin-top: 0;
			/* css3 */
			-webkit-transform:rotate(-45deg);
			-moz-transform:rotate(-45deg);
			-ms-transform:rotate(-45deg);
			-o-transform:rotate(-45deg);
			transform:rotate(-45deg);
		}
	}
}

/* Postform */
/* Preview */
.panel.bg2 {
	position: relative;

	&::before {
		left:calc(25% - 50px);
		width: 14px;
		height: 14px;
		margin-top: -18px;
		background: #000;
		-webkit-border-top-left-radius: 12px;
		-webkit-border-bottom-right-radius: 12px;
		-moz-border-radius: 12px 0 12px 0;
		border-radius: 12px 0 12px 0;
		-webkit-transform:rotate(45deg);
		-moz-transform:rotate(45deg);
		-ms-transform:rotate(45deg);
		-o-transform:rotate(45deg);
		transform:rotate(45deg);
	}

	&::after {
		left:calc(25% - 47px);
		width: 4px;
		height: 4px;
		border: 2px solid #fff;
		margin-top: -15px;
		-webkit-border-radius: 6px;
		-moz-border-radius: 6px;
		border-radius: 6px;
	}
}

/* Submit */
#main .submit-buttons {
	position: relative;

	&::before {
		left: calc(75% - 45px);
		width: 16px;
		height: 16px;
		margin-top: -18px;
		/* css3 */
		-webkit-border-radius: 16px;
		-moz-border-radius: 16px;
		border-radius: 16px;
		background: #000;
	}

	&::after {
		left:calc(75% - 40px);
		width: 3px;
		height: 8px;
		border-width: 0 2px 2px 0;
		border-style:solid;
		border-color: #fff;
		margin-top: -16px;
		-webkit-transform:rotate(45deg);
		-moz-transform:rotate(45deg);
		-ms-transform:rotate(45deg);
		-o-transform:rotate(45deg);
		transform:rotate(45deg);
	}
}

/* Tags */
.post-tags {
	font-size: 0;
	position: relative;

	a {
		font-size: $fontSize;
		padding: 3px;
	}

	a:first-child {
		padding-left: 20px;
	}

	a:first-child::before {
		left: 6px;
		width: 9px;
		height: 15px;
		margin-top: -8px;
		background: #000;
		/* css3 */
		-webkit-border-top-left-radius: 3px;
		-webkit-border-top-right-radius: 3px;
		-moz-border-radius: 3px 3px 0 0;
		border-radius: 5px 5px 0 0;
		transform: rotate(-40deg);
	}

	a:first-child::after {
		left: 7px;
		width: 3px;
		height: 3px;
		margin-top: -4px;
		background: #fff;
		border-radius: 5px;
	}

	&:hover a::before {
		background: #842;
	}
}

/* Postform Tabs */
#tabs li {
	list-style-type: none;
	position: relative;
	padding: 3px 3px 3px 25px;
}

/* Options */
#options-panel-tab a::after {
	left: 13px;
	width: 3px;
	height: 5px;
	margin-top: -8px;
	background: #fff;
	/* css3 */
	transform: rotate(45deg);
}

#options-panel-tab a span::before {
	left: 6px;
	width: 4px;
	height: 15px;
	margin-top: -7px;
	background: #000;
	/* css3 */
	transform: rotate(45deg);
}

#options-panel-tab a span::after {
	left: 8px;
	width: 9px;
	height: 9px;
	background: #000;
	border-radius: 8px;
}

/* Permissions */
#permissions-panel-tab a::before,
#permissions-panel-tab a::after {
	z-index: 10;
	left: 8px;
	width: 3px;
	height: 3px;
	margin-top: -2px;
	background: #fff;
	/* css3 */
	border-radius: 3px;
}

#permissions-panel-tab a::before {
	left: 9px;
	width: 1px;
	height: 4px;
	margin-top: 0;
}

#permissions-panel-tab a span::before {
	left: 3px;
	width: 13px;
	height: 10px;
	margin-top: -4px;
}

#permissions-panel-tab a span::after {
	left: 5px;
	width: 5px;
	height: 5px;
	border: 2px solid #000;
	border-bottom: 0;
	margin-top: -11px;
	background:transparent;
	/* css3 */
	border-radius: 5px 5px 0 0;
}

/* Subscription */
#subscriptions-panel-tab a span::before {
	z-index: 10;
	left: 6px;
	width: 12px;
	height: 12px;
	border-width: 0 1px 1px 0;
	border-style:solid;
	border-color: #fff;
	margin-top: -13px;
	background:transparent;
	/* css3 */
	transform: rotate(39deg) skew(-12deg);
}

#subscriptions-panel-tab a::before {
	left: 3px;
	width: 6px;
	border-width: 6px;
	border-style:solid;
	border-color: #000 #000 transparent;
	margin-top: -7px;
	background:transparent;
}

#subscriptions-panel-tab a::after {
	left: 4px;
	border-width: 0 8px 9px;
	border-style:solid;
	border-color: #000 transparent;
	margin-top: -3px;
	background:transparent;
}

/* Upload Attachment */
#attach-panel-tab a::before {
	left: 5px;
	width: 8px;
	height: 12px;
	border: 2px solid #000;
	background:transparent;
}

#attach-panel-tab a::after {
	left: 4px;
	border-width: 3px;
	border-style:solid;
	border-color: #fff #000 #000 #fff;
	margin-top: -9px;
	background:transparent;
}

/* Tags */
#tags-panel-tab a::before {
	left: 6px;
	width: 9px;
	height: 15px;
	margin-top: -8px;
	background: #000;
	/* css3 */
	-webkit-border-top-left-radius: 3px;
	-webkit-border-top-right-radius: 3px;
	-moz-border-radius: 3px 3px 0 0;
	border-radius: 5px 5px 0 0;
	transform: rotate(-40deg);
}

#tags-panel-tab a::after {
	left: 7px;
	width: 3px;
	height: 3px;
	margin-top: -4px;
	background: #fff;
	border-radius: 5px;
}

/* Blog Errors */
#blog-errors {
	&::after {
		content: "Error";
		position: fixed;
		width: 10%;
		height: 20px;
		left: 45%;
		background: #f00;
		top: 10px;

		border-radius: 0 0 6px 6px;
		transition: top 1s ease;
	}

	p {
		&::before, &::after {
			content: "";
			position: fixed;
			width: 12px;
			height: 12px;
			border: 1px solid #f00;
			top: 10px;

			transition: top 1s ease;
		}

		&::before {
			left: calc(45% - 12px);
			border-width: 1px 1px 0 0;

			border-top-right-radius: 6px;
			box-shadow: 4px 0 0 #f00;
		}

		&::after {
			right: calc(45% - 12px);
			border-width: 1px 0 0 1px;

			border-top-left-radius: 6px;
			box-shadow: -4px 0 0 #f00;
		}
	}

	&:hover {
		&::after {
			top: 10px + $beMoveAmount;
		}

		p {
			&::before, &::after {
				top: 10px + $beMoveAmount;
			}
		}
	}
}

/* Code */
#{$codeIcon} {
	position: relative;

	&::before,
	&::after{
		top: -15px;
		left: 10px;
	}


	&::before {
		content: ">";
		font: 900 5px monospace;
		background: #fff;
		border: 2px solid #000;
		padding-left: 1px;
		width: 17px;
		height: 12px;
		border-radius: 2px;
	}

	&::after {
		background: transparent;
		border: 5px solid transparent;
		border-width: 0 11px 5px;
		border-bottom-color: #000;
	}
}

#side #{$codeIcon}::after {
	margin-top: -13px;
}